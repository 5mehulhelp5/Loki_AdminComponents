<?php
declare(strict_types=1);

/** @version 0.2.3 */

use Magento\Framework\Escaper;
use Magento\Framework\View\Element\Template;
use Loki\AdminComponents\Component\Grid\GridViewModel;

/** @var Escaper $escaper */
/** @var Template $block */
/** @var GridViewModel $viewModel */
$viewModel = $block->getViewModel();

$limits = [5, 10, 20, 30, 50, 100, 200]; // @todo: Move this into a viewModel
$totalPages = $viewModel->getTotalPages();
$page = $viewModel->getPage();
?>
<div class="<?= $css('admin__data-grid-pager', '@todo') ?>">
    <button
        @click="previousPage"
        class="<?= $css('action-previous', '@todo') ?>"
        type="button"
        title="<?= $escaper->escapeHtml(__('Previous Page')) ?>"
        <?= ($page < 2) ? 'disabled' : '' ?>></button>

    <input
        :value="page"
        @change="changePage"
        class="<?= $css('admin__control-text', '@todo') ?>"
        type="number"
        id="current_page"/>

    <label class="<?= $css('admin__control-support-text', '@todo') ?>" for="current_page">
        of <span x-html="totalPages"></span> pages
    </label>

    <button
        @click="nextPage"
        class="<?= $css('action-next', '@todo') ?>"
        type="button"
        title="<?= $escaper->escapeHtml(__('Next Page')) ?>"
        <?= ($page >= $totalPages) ? 'disabled' : '' ?>></button>
</div>
