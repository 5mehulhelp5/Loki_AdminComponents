<?php
declare(strict_types=1);

use Magento\Framework\DataObject;
use Yireo\LokiComponents\Factory\ViewModelFactory;

/** @var Magento\Framework\View\Element\Template $block */
/** @var ViewModelFactory $viewModelFactory */
/** @var DataObject $item */

$item = $block->getItem();
?>
<div x-data="LokiAdminInlineEditComponent">
    <span @dblclick="toggleInlineEdit" x-show="hideInlineEdit">
        <?= $block->getValue() ?>
    </span>

    <span x-show="showInlineEdit">
        <input
            x-ref="inlineEditField"
            type="text"
            class="admin__control-text"
            value="<?= $block->getValue() ?>"
        />

        <button
            class="action-close"
            @click="toggleInlineEdit"
        ></button>

        <button
            class="action-save"
            @click="saveInlineEdit"
            data-identifier="<?= $item->getId() ?>"
            data-property="<?= $block->getColumnName() ?>"
        >save</button>
    </span>
</div>
